<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Git使用教程</title>
  <meta name=author content="cylind">
  <meta name=description content="&amp;lt;p&amp;gt;Git是一个分布式版本控制系统，可以记录仓库中所有文件的改动，每一个提交的改动成为一个版本（commit），可以据此进行版本的切换（通过移动HEAD指向不同的commit实现）等操作。&amp;lt;&#x2F;p&amp;gt;&amp;lt;span id=&amp;quot;continue-reading&amp;quot;&amp;gt;&amp;lt;&#x2F;span&amp;gt;&amp;lt;h2 id=&amp;quot;ben-di-cang-ku&amp;quot;&amp;gt;本地仓库&amp;lt;&#x2F;h2&amp;gt;&amp;lt;h3 id=&amp;quot;she-zhi-ji-ben-xin-xi&amp;quot;&amp;gt;…" />
  <meta name="robots" content="max-image-preview:large" />
  <link rel=canonical href="/posts/gitshi-yong-jiao-cheng/">
  <meta property="og:type" content="article">
  <meta property="og:url" content="/posts/gitshi-yong-jiao-cheng/">
  <meta property="og:site_name" content="cylind blog">
  <meta property="og:title" content="Git使用教程">
  <meta property="og:description" content="&amp;lt;p&amp;gt;Git是一个分布式版本控制系统，可以记录仓库中所有文件的改动，每一个提交的改动成为一个版本（commit），可以据此进行版本的切换（通过移动HEAD指向不同的commit实现）等操作。&amp;lt;&#x2F;p&amp;gt;&amp;lt;span id=&amp;quot;continue-reading&amp;quot;&amp;gt;&amp;lt;&#x2F;span&amp;gt;&amp;lt;h2 id=&amp;quot;ben-di-cang-ku&amp;quot;&amp;gt;本地仓库&amp;lt;&#x2F;h2&amp;gt;&amp;lt;h3 id=&amp;quot;she-zhi-ji-ben-xin-xi&amp;quot;&amp;gt;…">
  <meta name=twitter:card content="summary">
  <meta name=twitter:title content="Git使用教程">
  <meta name=twitter:description content="&amp;lt;p&amp;gt;Git是一个分布式版本控制系统，可以记录仓库中所有文件的改动，每一个提交的改动成为一个版本（commit），可以据此进行版本的切换（通过移动HEAD指向不同的commit实现）等操作。&amp;lt;&#x2F;p&amp;gt;&amp;lt;span id=&amp;quot;continue-reading&amp;quot;&amp;gt;&amp;lt;&#x2F;span&amp;gt;&amp;lt;h2 id=&amp;quot;ben-di-cang-ku&amp;quot;&amp;gt;本地仓库&amp;lt;&#x2F;h2&amp;gt;&amp;lt;h3 id=&amp;quot;she-zhi-ji-ben-xin-xi&amp;quot;&amp;gt;…">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
  <link rel="manifest" href="/site.webmanifest" />
  <link rel="icon" sizes="16x16" href="/favicon.ico" />
  <link rel=alternate type=application/rss+xml href="/index.xml" title=cylind blog/>
  <link rel="stylesheet" href="/main.css"/>
</head>

<body>
  <header>
    <a class="header__verification" href="">cylind blog</a>
    <p class="header__official">Official</p>
    <nav>
      <ul>
        <li>
          <a href="/">Home</a>
          
        </li>
        <li>
          <a href="/posts/">Posts</a>
          
        </li>
        <li>
          <a href="/about/">About</a>
          
        </li>
      </ul>
    </nav>
  </header>
  <main>
    <article>
      <header>
        <h1>Git使用教程</h1>
        <span>
          <br><time datetime="2021-02-04T09:38:47">Feb 04, 2021</time>
        </span>
      </header><p>Git是一个分布式版本控制系统，可以记录仓库中所有文件的改动，每一个提交的改动成为一个版本（commit），可以据此进行版本的切换（通过移动HEAD指向不同的commit实现）等操作。</p>
<span id="continue-reading"></span><h2 id="ben-di-cang-ku">本地仓库</h2>
<h3 id="she-zhi-ji-ben-xin-xi">设置基本信息</h3>
<pre data-lang="bash" style="background-color:#ffffff;color:#323232;" class="language-bash "><code class="language-bash" data-lang="bash"><span>$ git config --global user.name </span><span style="color:#183691;">&quot;&lt;用户名&gt;&quot;
</span><span>$ git config --global user.email </span><span style="color:#183691;">&quot;&lt;电子邮件&gt;&quot;
</span><span>$ git config --global color.ui auto
</span></code></pre>
<h3 id="chu-shi-hua-gitcang-ku">初始化Git仓库</h3>
<pre data-lang="bash" style="background-color:#ffffff;color:#323232;" class="language-bash "><code class="language-bash" data-lang="bash"><span>$ git init
</span></code></pre>
<p>可以初始化一个空文件夹作为Git仓库，也可以初始化一个已经存在文件的文件夹作为Git仓库。执行完<code>git init</code> 后，当前文件夹下会出现一个<code>.git</code>文件夹（版本库），<code>.git</code> 文件夹里存储这个Git仓库的所有信息，包括版本变更等信息。</p>
<h3 id="cha-kan-gitcang-ku-de-zhuang-tai">查看Git仓库的状态</h3>
<pre data-lang="bash" style="background-color:#ffffff;color:#323232;" class="language-bash "><code class="language-bash" data-lang="bash"><span>$ git status
</span></code></pre>
<h3 id="ti-jiao-wen-jian">提交文件</h3>
<p>提交文件前，先要要把文件添加到暂存区（stage）。可以通过<code>add</code> 指令将文件添加至暂存区，<code>add</code> 指令可一次添加多个文件，文件名用空格分隔。</p>
<pre data-lang="bash" style="background-color:#ffffff;color:#323232;" class="language-bash "><code class="language-bash" data-lang="bash"><span>$ git add </span><span style="font-weight:bold;color:#a71d5d;">&lt;</span><span>file</span><span style="font-weight:bold;color:#a71d5d;">&gt;</span><span>..
</span></code></pre>
<p>还可以通过指定<code>.</code>参数，一次添加所有文件</p>
<pre data-lang="bash" style="background-color:#ffffff;color:#323232;" class="language-bash "><code class="language-bash" data-lang="bash"><span>$ git add .
</span></code></pre>
<p><img src="https://raw.githubusercontent.com/cylind/cylind.github.io/static/img/20250916204921986.png" alt="工作区和版本库" /></p>
<p>文件添加到暂存区后，可以通过<code>commit</code>指令将文件提交到当前分支</p>
<pre data-lang="bash" style="background-color:#ffffff;color:#323232;" class="language-bash "><code class="language-bash" data-lang="bash"><span>$ git commit -m </span><span style="color:#183691;">&quot;first commit&quot;
</span></code></pre>
<p>其中，<code>-m</code>表示提交说明，即本例中的 "first commit"。</p>
<h3 id="chuang-jian-fen-zhi">创建分支</h3>
<p>创建一个新分支并切换到该分支</p>
<pre data-lang="bash" style="background-color:#ffffff;color:#323232;" class="language-bash "><code class="language-bash" data-lang="bash"><span>git branch bugfix
</span><span>git checkout bugfix
</span></code></pre>
<p>还可以直接合并简化成一条命令</p>
<pre data-lang="bash" style="background-color:#ffffff;color:#323232;" class="language-bash "><code class="language-bash" data-lang="bash"><span>git checkout -b bugfix
</span></code></pre>
<h3 id="he-bing-fen-zhi">合并分支</h3>
<h4 id="merge">merge</h4>
<p>将HEAD切换回master(HEAD就是指向commit的指针，可通过checkout更改它指向的位置)，然后执行合并分支，将会在master之后产生一个同时指向bugfix和master的commit，然后master移动至该commit，合并完成。</p>
<pre data-lang="bash" style="background-color:#ffffff;color:#323232;" class="language-bash "><code class="language-bash" data-lang="bash"><span>git checkout master
</span><span>git merge bugfix
</span></code></pre>
<h4 id="rebase">rebase</h4>
<p>rebase可将两分支合并表示为一条时间线，比较直观。将HEAD切换到bugfix，然后执行合并分支，这将会</p>
<pre data-lang="bash" style="background-color:#ffffff;color:#323232;" class="language-bash "><code class="language-bash" data-lang="bash"><span>git checkout bugfix
</span></code></pre>
<p><img src="https://raw.githubusercontent.com/cylind/cylind.github.io/static/img/b644568a48e37c6c63dac789e0715c55.png" alt="" /></p>
<pre data-lang="bash" style="background-color:#ffffff;color:#323232;" class="language-bash "><code class="language-bash" data-lang="bash"><span>git rebase main
</span></code></pre>
<p><img src="https://raw.githubusercontent.com/cylind/cylind.github.io/static/img/20250916204527786.png" alt="" /></p>
<h3 id="cha-kan-ri-zhi">查看日志</h3>
<pre data-lang="bash" style="background-color:#ffffff;color:#323232;" class="language-bash "><code class="language-bash" data-lang="bash"><span>$ git log
</span></code></pre>
<h3 id="ban-ben-hui-tui">版本回退</h3>
<p>版本回退可以先通过git log 参看commit的时间线，确定回退到那个commit，确定后执行</p>
<pre data-lang="bash" style="background-color:#ffffff;color:#323232;" class="language-bash "><code class="language-bash" data-lang="bash"><span>git reset --hard 360dcc9 </span><span style="font-style:italic;color:#969896;">#此为commit id 可不必写全
</span></code></pre>
<p>要是平时commit时没有写有关键的说明，可能你不知道要回退到哪个版本合适（所以说平时提交commit时一定要注意这一点），这时候可以一个个commit往后找，先签出源码</p>
<pre data-lang="bash" style="background-color:#ffffff;color:#323232;" class="language-bash "><code class="language-bash" data-lang="bash"><span>git checkout 360dcc9
</span></code></pre>
<p>查看代码是不是符合你想回退的版本，如果不是，则继续签出下一个；如果是的话，先签出回当前分支代码，假设当前分支为master</p>
<pre data-lang="bash" style="background-color:#ffffff;color:#323232;" class="language-bash "><code class="language-bash" data-lang="bash"><span>git checkout master
</span></code></pre>
<p>再进行回退</p>
<pre data-lang="bash" style="background-color:#ffffff;color:#323232;" class="language-bash "><code class="language-bash" data-lang="bash"><span>git reset --hard 360dcc9
</span></code></pre>
<h2 id="yuan-cheng-cang-ku">远程仓库</h2>
<h3 id="guan-lian-yuan-cheng-cang-ku">关联远程仓库</h3>
<pre data-lang="bash" style="background-color:#ffffff;color:#323232;" class="language-bash "><code class="language-bash" data-lang="bash"><span>$ git remote add </span><span style="font-weight:bold;color:#a71d5d;">&lt;</span><span>name</span><span style="font-weight:bold;color:#a71d5d;">&gt; &lt;</span><span>url</span><span style="font-weight:bold;color:#a71d5d;">&gt;
</span></code></pre>
<p>其中，<code>&lt;name&gt;</code> 是我个远程仓库设置的别名，用来替代较长的仓库地址<code>url</code>，<code>&lt;name&gt;</code>一般设置为<code>origin</code>。执行推送或者拉取的时候，如果省略了远程数据库的名称，则默认使用名为”origin“的远程数据库。因此一般都会把远程数据库命名为origin。</p>
<h3 id="tui-song-dao-yuan-cheng-cang-ku">推送到远程仓库</h3>
<p>使用push命令向数据库推送更改内容。<code>&lt;repository&gt;</code>处输入目标地址，如果只有一个追踪分支，<code>&lt;repository&gt;</code>缺省；<code>&lt;refspec&gt;</code>处指定推送的分支，缺省则默认等前分支。</p>
<pre data-lang="bash" style="background-color:#ffffff;color:#323232;" class="language-bash "><code class="language-bash" data-lang="bash"><span>$ git push </span><span style="font-weight:bold;color:#a71d5d;">&lt;</span><span>repository</span><span style="font-weight:bold;color:#a71d5d;">&gt; &lt;</span><span>refspec</span><span style="font-weight:bold;color:#a71d5d;">&gt;</span><span>...
</span></code></pre>
<p>如果当前分支与多个主机存在追踪关系，那么这个时候**-u选项（--set-upstream）**会指定一个默认主机，这样后面就可以不加任何参数使用git push。</p>
<pre data-lang="bash" style="background-color:#ffffff;color:#323232;" class="language-bash "><code class="language-bash" data-lang="bash"><span>$ git push -u origin master
</span></code></pre>
<p>上面命令将本地的master分支推送到origin主机，同时指定origin为默认主机，后面就可以不加任何参数使用git push了。</p>
<h3 id="cong-yuan-cheng-cang-ku-la-qu-geng-xin">从远程仓库拉取更新</h3>
<p>使用pull指令进行拉取操作。省略数据库名称的话，会在名为origin的数据库进行pull。</p>
<pre data-lang="bash" style="background-color:#ffffff;color:#323232;" class="language-bash "><code class="language-bash" data-lang="bash"><span>$ git pull </span><span style="font-weight:bold;color:#a71d5d;">&lt;</span><span>repository</span><span style="font-weight:bold;color:#a71d5d;">&gt; &lt;</span><span>refspec</span><span style="font-weight:bold;color:#a71d5d;">&gt;</span><span>...
</span></code></pre>
<h3 id="zheng-he-xiu-gai-ji-lu">整合修改记录</h3>
<p>在执行pull之后，进行下一次push之前，如果其他人进行了推送内容到远程数据库的话，那么你的push将被拒绝。这种情况下，在读取别人push的变更并进行合并操作之前，你的push都将被拒绝。这是因为，如果不进行合并就试图覆盖已有的变更记录的话，其他人push的变更就会丢失。</p>
<p>执行合并即可自动合并Git修改的部分。但是，也存在无法自动合并的情况。</p>
<p>如果远程数据库和本地数据库的同一个地方都发生了修改的情况下，因为无法自动判断要选用哪一个修改，所以就会发生冲突。</p>
<p><img src="https://raw.githubusercontent.com/cylind/cylind.github.io/static/img/git-conflict.png" alt="冲突" /></p>
<p>==分割线上方是本地数据库的内容, 下方是远程数据库的内容。</p>
<p>这时候，有冲突的文件会被插入如上图的标注，需要手动修正冲突，即修改本地文件的冲突部分，然后 <code>git add --all &amp;&amp; git commit</code></p>
<h2 id="can-kao">参考</h2>
<p>https://git-scm.com/docs/gittutorial</p>
<p>https://try.github.io/</p>
<p>https://guides.github.com/introduction/git-handbook/</p>
<p>https://training.github.com/downloads/zh_CN/github-git-cheat-sheet/</p>
<p>https://backlog.com/git-tutorial</p>
<p><a href="https://www.liaoxuefeng.com/wiki/896043488029600">廖雪峰-Git教程</a></p>
<p><a href="https://www.zhihu.com/question/20019419">git push 的 -u 参数具体适合含义？</a></p>
<p><a href="https://gist.github.com/zxhfighter/62847a087a2a8031fbdf">如何给开源项目贡献代码</a></p>
<p><a href="https://mvthanoshan.medium.com/ubuntu-a-beginners-guide-to-git-github-44a2d2fda0b8">ubuntu-a-beginners-guide-to-git-github</a></p>
<p><a href="https://mvthanoshan.medium.com/how-to-make-your-first-pull-request-on-github-9aefca5cc837">How to make your first pull request on GitHub</a></p>
<script src="https://giscus.app/client.js"
            data-repo="cylind&#x2F;cylind.github.io"
            data-repo-id="MDEwOlJlcG9zaXRvcnkzMDIyMjI4NjY="
            data-category="General"
            data-category-id="DIC_kwDOEgOOEs4CvjAr"
            data-mapping="title"
            data-strict="0"
            data-reactions-enabled="1"
            data-emit-metadata="0"
            data-input-position="bottom"
            data-theme="preferred_color_scheme"
            data-lang="en"
            crossorigin="anonymous"
            async>
      </script></article>
  </main>
  <footer>
    <p>
      Powered by <a target="_blank" rel="noopener" href="https://www.getzola.org">zola 0.20.0</a>
      | Theme <a target=_blank rel=noopener href=https://github.com/inhzus/zola-futu>futu@main</a>
    </p>
  </footer>
  
</body>
</html>
