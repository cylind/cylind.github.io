<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>screen简易用法总结</title>
  <meta name=author content="cylind">
  <meta name=description content="&amp;lt;p&amp;gt;screen是一个非常实用的工具，提供从单个 SSH 会话（或本地会话）中使用多个 shell 窗口（会话）的能力。当会话被分离或网络中断时，screen 各会话中启动的进程仍将运行，而且你可以随时重新连接到 某个指定screen 会话查看情况。&amp;lt;&#x2F;p&amp;gt;&amp;lt;span id=&amp;quot;continue-reading&amp;quot;&amp;gt;&amp;lt;&#x2F;span&amp;gt;&amp;lt;h2 id=&amp;quot;qi-dong-yi-ge-screenhui-hu…" />
  <meta name="robots" content="max-image-preview:large" />
  <link rel=canonical href="/posts/screenjian-yi-yong-fa-zong-jie/">
  <meta property="og:type" content="article">
  <meta property="og:url" content="/posts/screenjian-yi-yong-fa-zong-jie/">
  <meta property="og:site_name" content="cylind blog">
  <meta property="og:title" content="screen简易用法总结">
  <meta property="og:description" content="&amp;lt;p&amp;gt;screen是一个非常实用的工具，提供从单个 SSH 会话（或本地会话）中使用多个 shell 窗口（会话）的能力。当会话被分离或网络中断时，screen 各会话中启动的进程仍将运行，而且你可以随时重新连接到 某个指定screen 会话查看情况。&amp;lt;&#x2F;p&amp;gt;&amp;lt;span id=&amp;quot;continue-reading&amp;quot;&amp;gt;&amp;lt;&#x2F;span&amp;gt;&amp;lt;h2 id=&amp;quot;qi-dong-yi-ge-screenhui-hu…">
  <meta name=twitter:card content="summary">
  <meta name=twitter:title content="screen简易用法总结">
  <meta name=twitter:description content="&amp;lt;p&amp;gt;screen是一个非常实用的工具，提供从单个 SSH 会话（或本地会话）中使用多个 shell 窗口（会话）的能力。当会话被分离或网络中断时，screen 各会话中启动的进程仍将运行，而且你可以随时重新连接到 某个指定screen 会话查看情况。&amp;lt;&#x2F;p&amp;gt;&amp;lt;span id=&amp;quot;continue-reading&amp;quot;&amp;gt;&amp;lt;&#x2F;span&amp;gt;&amp;lt;h2 id=&amp;quot;qi-dong-yi-ge-screenhui-hu…">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
  <link rel="manifest" href="/site.webmanifest" />
  <link rel="icon" sizes="16x16" href="/favicon.ico" />
  <link rel=alternate type=application/rss+xml href="/index.xml" title=cylind blog/>
  <link rel="stylesheet" href="/main.css"/>
</head>

<body>
  <header>
    <a class="header__verification" href="">cylind blog</a>
    <p class="header__official">Official</p>
    <nav>
      <ul>
        <li>
          <a href="/">Home</a>
          
        </li>
        <li>
          <a href="/posts/">Posts</a>
          
        </li>
        <li>
          <a href="/about/">About</a>
          
        </li>
      </ul>
    </nav>
  </header>
  <main>
    <article>
      <header>
        <h1>screen简易用法总结</h1>
        <span>
          <br><time datetime="2020-09-27T17:28:13">Sep 27, 2020</time>
        </span>
      </header><p>screen是一个非常实用的工具，提供从单个 SSH 会话（或本地会话）中使用多个 shell 窗口（会话）的能力。当会话被分离或网络中断时，screen 各会话中启动的进程仍将运行，而且你可以随时重新连接到 某个指定screen 会话查看情况。</p>
<span id="continue-reading"></span><h2 id="qi-dong-yi-ge-screenhui-hua">启动一个screen会话</h2>
<p>可以简单的在命令行里直接输入<code>screen</code>，这样便启动并进入到一个screen会话了。</p>
<p>如果你想给这个screen会话做个标记，也就是给它一个名称，可以用<code>screen -S ssesion_name</code>替换上述的<code>screen</code>,这样就启动并进入到一个名为session_name的screen会话了。</p>
<h2 id="zai-screenhui-hua-zhi-xing-ming-ling">在screen会话执行命令</h2>
<p>进入screen会话后，便可在这个screen会话中执行一些你想执行的命令了，比如升级系统<code>apt update &amp;&amp; apt upgrade -y</code>。</p>
<h2 id="fen-chi-screenhui-hua">分离screen会话</h2>
<p>如果你的命令执行时间比较长，比如上述的升级系统操作，而你又不想等待，想干点别的事。</p>
<p>这个时候你可以分离这个会话，让它在后台运行，按<code>Ctrl + a + d</code>即可分离当前会话，回到本地会话。</p>
<h2 id="zhong-fan-screenhui-hua">重返screen会话</h2>
<p>当你觉得时间差不多了，想回到之前升级系统那个会话看看运行结果或运行情况，你可以输入<code>screen -r</code>返回之前的会话，前提是你只创建了一个screen会话，如果有多个，你还得知道会话的pid或者name。</p>
<p>可以输入<code>screen -ls</code>查看当前所有的screen会话，例如：</p>
<pre data-lang="shell" style="background-color:#ffffff;color:#323232;" class="language-shell "><code class="language-shell" data-lang="shell"><span>screen -ls
</span><span>
</span><span>There are screens on:
</span><span>7880.session    (Detached)
</span><span>7934.session2   (Detached)
</span><span>7907.session1   (Detached)
</span><span>3 Sockets in /var/run/screen/S-root.
</span></code></pre>
<p>其中7880,7934,7907为各screen会话对应的pid，而session，session1，session2则为它们对应的name。</p>
<p>可以指定pid <code>screen -r 7934</code>或指定name <code>screen -r -S session2</code>回到指定的screen会话中。</p>
<h2 id="jie-shu-screenhui-hua">结束screen会话</h2>
<p>这个很简单，在screen会话中输入exit或者按<code>Ctrl + d</code>即可结束当前会话。</p>
<p>参考：</p>
<p>https://handerfly.github.io/linux/2019/03/31/Screan%E5%91%BD%E4%BB%A4%E7%9A%84%E4%BD%BF%E7%94%A8/</p>
</article>
  </main>
  <footer>
    <p>
      Powered by <a target="_blank" rel="noopener" href="https://www.getzola.org">zola 0.20.0</a>
      | Theme <a target=_blank rel=noopener href=https://github.com/inhzus/zola-futu>futu@main</a>
    </p>
  </footer>
  
</body>
</html>
